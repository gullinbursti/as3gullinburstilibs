package utils.time {	import flash.display.Sprite;	import flash.events.Event;	import flash.utils.clearInterval;	import flash.utils.getTimer;	import flash.utils.setInterval;	public class TimeUtils{				/**		 * delay should be used to delay states and the call for functions.		 * 		 * @param		 * sec			:	Number		 * callback		:	Function		 */		public static var _intervalArr:Array = new Array();		public static function delay(sec:Number, callback:Function):void {						var intervalID:Number = setInterval(done, sec*1000);			_intervalArr.push(intervalID);						function done():void {				for (var i:uint = 0; i < _intervalArr.length; i++) {					if (_intervalArr[i] === intervalID) {						_intervalArr.splice(i, 1);					}				}				callback();				clearInterval(intervalID);			}					}		/**		 * kill all the delays that are active		 */		public static function killAllDelay():void {			if (_intervalArr) {				for (var i:uint = 0; i < _intervalArr.length; i++) {					clearInterval(_intervalArr[i]);				}				_intervalArr = new Array();			}		}				public static function convertNumberToTime(num:Number):String {			var h:String = "";			var m:String = "";			var s:String = "";						// hour			if (int(num/3600) < 10) h += "0";			h += int(num/3600);						// min			if (int(num/60) < 10) m += "0";			m += int(num/60);						// sec			if (num%60 < 10) s += "0";			s += int(num%60);									return h + ":" + m + ":" + s;					}				public static function getUniversalDateString(zone:Number = 0):String {			var date:Date = new Date();			var daytime:String = "AM";			var str:String = "";						var hour:Number = (date.getUTCHours() + zone);			if (hour > 12) daytime = "PM";						if (hour%12 == 0) {				str += "12:";			} else {				if ((hour%12) < 10) str += "0";				str += (hour%12) + ":";			}			if (date.getUTCMinutes() < 10) str += "0";			str += date.getUTCMinutes() + ":";			if (date.getUTCSeconds() < 10) str += "0";			str += date.getUTCSeconds() + "  ";						str += daytime + "  ";						if (Number(date.getUTCDay()) < 10) str += "0";			str += date.getUTCDay() + "/";			if (Number(date.getUTCMonth()) < 10) str += "0";			str += date.getUTCMonth() + "/";			str += String(date.getUTCFullYear()).substr(2, 2);						return str;		}				public static function preciseDelay(millisec:Number, callback:Function):void {						var playtime:Number = millisec;			var countdown:Number = playtime;			var starttime:Number = getTimer();						var looper:Sprite = new Sprite();			looper.addEventListener(Event.ENTER_FRAME, onEnterFrame);						function onEnterFrame(event:Event):void {				countdown = (getTimer() - starttime);				if (countdown > playtime) {					looper.removeEventListener(Event.ENTER_FRAME, onEnterFrame);					looper = null;					callback();				}			}					}					}}